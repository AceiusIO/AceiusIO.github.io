<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8" >
  <link rel='icon' href='logo.ico' type='image/x-icon'/ >
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <!-- <script src="stopwatchsource.js"></script>-->
  <!-- It's not a laser! It's a little light that blinks!-->
  <title>Reaction Times</title>
  <link rel="shortcut icon" href="Aceius.ico" />
</head>

<body style="background-color: #e0e0e0; color: black; font-family: Calibri;">
    <center>
    <div id="non-interactive"><h1>Reaction Times Experiment</h1><p>Your goal is to press the Start button, wait for for the clock to hit 0, then press stop. For extra accessability, the 0 will be <i style="color: green;">green</i>, the 2 and 3 <i style="color: red;">red</i>, and the Ready <i style="color: yellow;">yellow</i>.
    <b>Please record your reaction time</b> then send it to me. Email me at <a href="mailto:archmantella13@gmail.com">archmantella13@gmail.com</a>. Submissions <i>due</i> by <span style="font-family: 'Lucida Console'">5/14/2020, 5:30 PM PST.</span></p><hr></div>
    <div id="display-container"><br><h1 id="ind-bg" style="color: yellow;">Ready</h1><br>
    <div id="controls"><hr><span id="btn"><button style="background-color: blue;">Start</button></span> <button id="rectbutton" style="background-color: green;" onclick="reactiontime();">Click</button> <button id="reset" onclick="reset();" style="background-color: yellow;">Reset</button><hr></div>
    <!--<span id="time-display-container"><p>Your reaction time is: <span id="time-display"><p></p></span><p> milliseconds</p></span>-->
    <!--<button onclick='test();'>-->
    <script id="runner">
    /*\ Javascript Reaction Times Runner /*\
    This is the main control script for this beast.
    By Aceius
    */

    var m1 = 0
    var m2 = 0

    $( "#rectbutton" ).hide();

    function wait(ms){
     var d = new Date();
     var d2 = null;
     do { d2 = new Date(); }
     while(d2-d < ms);
    }

    function milliseconds1() {
      var d = new Date();
      var n = d.getTime();
      m1 = n;
    }

    function milliseconds2() {
      var d = new Date();
      var n = d.getTime();
      m2 = n;
    }

    //function test(){
      //alert("single quotes test");
    //}

    function reset(){
      $( "#ind-bg" ).html("Ready");
      $( "#ind-bg" ).css("color", "yellow");
      $( "#btn" ).html("<button style='background-color: blue;'>Start</button>");
      $( "#btn" ).show();
      $( "#rectbutton" ).hide();
    }

    function fnt2(){
      $( "#btn" ).html("<span id='timerbutton'><button onclick='reactiontime();' style='background-color: green;'>Press</button></span>");
      $( "#rectbutton" ).show();
      $( "#ind-bg" ).html("0");
      $( "#ind-bg" ).css("color", "green");
    }

    function reactiontime(){
      milliseconds2();
      var time = m2 - m1
      alert("Your reaction time is " + time + " milliseconds");
      reset();
    }

    $(function(){
    $('#btn').click(function() {
      window.setTimeout(function(){
        $( "#ind-bg" ).html("2");
        $( "#ind-bg" ).css("color", "red");
        window.setTimeout(function(){
          $( "#ind-bg" ).html("1");
          $( "#ind-bg" ).css("color", "red");
                 }, 1000);
                 window.setTimeout(function(){
                   fnt2();
                 }, 2000);
               }, 1000);
      //await wait( 1000 );
      //$( "#ind-bg" ).html("2", "blue");
      //await wait( 1000 );
      //$( "#ind-bg" ).html("1", "green");
      //await wait( 1000 );
      $( "#btn" ).html("<button style='background-color: red;'>Wait</button>")
      $( "#btn" ).hide();
      milliseconds1()
      $( "#ind-bg" ).html("3");
      $( "#ind-bg" ).css("color", "red");
    });
   });
    </script>
  </center>

   <!--<input type="button" id="startTimer" value="Start" onclick="start();"><input type="button" id="stopTimer" value="Stop"  onclick="stop();"><input type="button" id="resetTimer" value="Reset"  onclick="reset();"><br/>
   <script>
       var timeElapsed = 0;
       var timerID = -1;
       function tick() {
           timeElapsed = timeElapsed + 0.1
           document.getElementById("time").innerHTML = timeElapsed;
       }

       function start() {
           if(timerID == -1){
               timerID = setInterval(tick, 100);
           }
       }

       function stop() {
           if(timerID != -1){
               clearInterval(timerID)
               timerID = -1
           }
       }

       function reset() {
           stop();
           timeElapsed = -0.1;
           tick()
       }

   </script>-->
</body>
</html>
