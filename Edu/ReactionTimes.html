<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8" >
  <link rel='icon' href='logo.ico' type='image/x-icon'/ >
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="stopwatchsource.js"></script>
  <!-- It's not a laser! It's a little light that blinks!-->
  <title>Reaction Times</title>
</head>

<body style="background-color: #e0e0e0; color: black; font-family: Calibri;">
    <center>
    <div id="non-interactive"><h1>Reaction Times Experiment</h1><p>Your goal is to press the Start button, wait for for the clock to hit 0, then press stop. For extra accessability, the 0 will be <i style="color: green;">green</i>, the 2 and 3 <i style="color: red;">red</i>, and the Ready <i style="color: yellow;">yellow</i>.
    <b>Please record your reaction time</b> then send it to me. Email me at <a href="mailto:archmantella13@gmail.com">archmantella13@gmail.com</a>. Submissions <i>due</i> by 5/14/2020, 5:30 PM PST.</p>
    <p><b>Note:</b> When you press the button to get your reaction time, the timer will restart. Ignore this. Write down your time, <i style="color: yellow;">reset</i>, and repeat. Please try to repeat this <b>3</b> times.</p><hr></div>
    <div id="display-container"><br><h1 id="ind-bg" style="color: yellow;">Ready</h1><br>
    <div id="controls"><hr><span id="btn"><button style="background-color: blue;">Start</button></span> <button id="reset" onclick="reset();" style="background-color: yellow;">Reset</button><hr></div>
    <span id="time-display-container"><p>Your reaction time is: <span id="time-display"><p></p></span><p> milliseconds</p></span>
    <!--<button onclick='test();'>-->
    <script id="runner">

    function wait(ms){
     var d = new Date();
     var d2 = null;
     do { d2 = new Date(); }
     while(d2-d < ms);
    }

    //function test(){
      //alert("single quotes test");
    //}

    function reset(){
      $( "#ind-bg" ).html("Ready");
      $( "#ind-bg" ).css("color", "yellow");
      $( "#btntimer" ).html("<button style='background-color: blue;'>Start</button>")
      $( "#btntimer" ).attr("id", "btn")
      $( "#btn" ).html("<button style='background-color: blue;'>Start</button>")
      $( "#btn" ).attr("id", "btn")
    }

    function fnt2(){
      $( "#btn" ).html("<span id='timerbutton'><button onclick='reactiontime();' style='background-color: green;'>Press</button></span>");
      $( "#ind-bg" ).html("0");
      $( "#ind-bg" ).css("color", "green");
      $( "#time-display" ).stopwatch( "start" )
      $( "#btn" ).attr("id", "btntimer")
    }

    function reactiontime(){
      var time = 1
      reset();
      $( "#time-display" ).stopwatch( "stop" )
      alert("Your reaction time is " + time + " milliseconds");
    }

    $(function(){
    $('#btn').click(function() {
      $( "#btn" ).html("<button>Wait</button>")
      window.setTimeout(function(){
        $( "#ind-bg" ).html("2");
        $( "#ind-bg" ).css("color", "red");
        window.setTimeout(function(){
          $( "#ind-bg" ).html("1");
          $( "#ind-bg" ).css("color", "red");
                 }, 1000);
                 window.setTimeout(function(){
                   fnt2();
                 }, 2000);
               }, 1000);
      //await wait( 1000 );
      //$( "#ind-bg" ).html("2", "blue");
      //await wait( 1000 );
      //$( "#ind-bg" ).html("1", "green");
      //await wait( 1000 );
      $( "#btn" ).html("<button style='background-color: red;'>Wait</button>")
      $( "#ind-bg" ).html("3");
      $( "#ind-bg" ).css("color", "red");
    });
   });
    </script>
  </center>

   <!--<input type="button" id="startTimer" value="Start" onclick="start();"><input type="button" id="stopTimer" value="Stop"  onclick="stop();"><input type="button" id="resetTimer" value="Reset"  onclick="reset();"><br/>
   <script>
       var timeElapsed = 0;
       var timerID = -1;
       function tick() {
           timeElapsed = timeElapsed + 0.1
           document.getElementById("time").innerHTML = timeElapsed;
       }

       function start() {
           if(timerID == -1){
               timerID = setInterval(tick, 100);
           }
       }

       function stop() {
           if(timerID != -1){
               clearInterval(timerID)
               timerID = -1
           }
       }

       function reset() {
           stop();
           timeElapsed = -0.1;
           tick()
       }

   </script>-->
</body>
</html>
